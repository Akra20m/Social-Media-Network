(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{209:function(e,t,a){e.exports=a(356)},356:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(40),c=a.n(s),o=a(12),i=a(24),u=a(183),p=a(8),l=a(9),m=a(10),d=a(11),f=a(13),b=a(45),h=a(56),v=a(365),O=a(364),y=a(20),g=a(15),E=a.n(g),j=a(29),k=a(184),w=a.n(k).a.create({baseURL:"https://social-network-akram.herokuapp.com"});function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=function(e,t){return function(){var a=Object(j.a)(E.a.mark((function a(r){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w.delete("/posts/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});case 3:a.sent,r({type:"DELETE_POST",payload:t}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0.response);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},_=(a(38),function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).onSubmit=function(e){a.props.loginUser(e),a.props.change("username",null),a.props.change("password",null)},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"renderInput",value:function(e){var t=e.input,a=e.label,r=e.type;return n.a.createElement("div",null,n.a.createElement("label",null,a),n.a.createElement("input",Object.assign({},t,{type:r,className:"ui input input-custom",required:!0})))}},{key:"errormsg",value:function(){if(422===this.props.user.status)return n.a.createElement("div",null,n.a.createElement("p",null,"Username/Password is incorrect"))}},{key:"render",value:function(){return this.props.user.isLoggedIn?n.a.createElement(h.a,{to:"/dashboard"}):n.a.createElement("div",{className:"test"},n.a.createElement("h2",null,"Login"),n.a.createElement("form",{className:"test",onSubmit:this.props.handleSubmit(this.onSubmit)},n.a.createElement(v.a,{name:"username",label:"Username",type:"text",component:this.renderInput}),n.a.createElement(v.a,{name:"password",label:"Password",type:"password",component:this.renderInput}),n.a.createElement("button",{className:"main_button"},"Login")),this.errormsg())}}]),t}(n.a.Component)),C=Object(o.b)((function(e){return{user:e.user}}),{loginUser:function(e){return function(){var t=Object(j.a)(E.a.mark((function t(a){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.post("/login",e);case 3:r=t.sent,a({type:"LOGIN_USER",payload:S({},r.data,{status:r.status})}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"LOGIN_ERROR",payload:{status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(Object(O.a)({form:"login"})(_)),x=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).onSubmit=function(e){a.props.createUser(e)},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"renderInput",value:function(e){var t=e.input,a=e.label,r=e.type;return n.a.createElement("div",null,n.a.createElement("label",null,a),n.a.createElement("input",Object.assign({},t,{type:r,className:"ui input input-custom",required:!0})))}},{key:"msg",value:function(){return 409===this.props.user.status?n.a.createElement("div",null,n.a.createElement("p",null,"This email/username exists in our database")):201===this.props.user.status?n.a.createElement("div",null,n.a.createElement("p",null,"User Added. Login")):void 0}},{key:"render",value:function(){return n.a.createElement("div",{className:"test"},n.a.createElement("h2",null,"Sign Up"),n.a.createElement("form",{className:"test",onSubmit:this.props.handleSubmit(this.onSubmit)},n.a.createElement(v.a,{name:"name",label:"Name",type:"text",component:this.renderInput}),n.a.createElement(v.a,{name:"email",label:"Email",type:"email",component:this.renderInput}),n.a.createElement(v.a,{name:"username",label:"Username",type:"text",component:this.renderInput}),n.a.createElement(v.a,{name:"password",label:"Password",type:"password",component:this.renderInput}),n.a.createElement("button",{className:"main_button"},"Submit")),this.msg())}}]),t}(n.a.Component),A=Object(o.b)((function(e){return{user:e.user}}),{createUser:function(e){return function(){var t=Object(j.a)(E.a.mark((function t(a){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.post("/users",e);case 3:r=t.sent,a({type:"REGISTER_USER",payload:{status:r.status}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"REGISTER_ERROR",payload:{status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(Object(O.a)({form:"register"})(x)),T=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"test cover_page",id:"main_background"},n.a.createElement("div",{id:"main_container"},n.a.createElement(C,null),n.a.createElement(A,null)))}}]),t}(n.a.Component),R=a(30),D=a(67),I=a.n(D),U=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).onSubmit=function(e){a.props.editPost(e,a.props.user.access_token,a.props.post.id,a.props.type)},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"renderInput",value:function(e){var t=e.input;return n.a.createElement("div",null,n.a.createElement("textarea",Object.assign({className:"input-post"},t,{maxLength:"150",placeholder:"Edit post",rows:"3",required:!0})))}},{key:"render",value:function(){return this.props.user.isLoggedIn&&this.props.post.username===this.props.user.username?c.a.createPortal(n.a.createElement("div",{className:"ui dimmer modals visible active",style:{position:"fixed"}},n.a.createElement("div",{className:"ui standard modal visible active"},n.a.createElement("div",{className:"header"},this.props.post.post),n.a.createElement("div",{className:"content"},n.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),id:"editForm"},n.a.createElement(v.a,{name:"post",component:this.renderInput}))),n.a.createElement("div",{className:"actions"},n.a.createElement("div",{className:"ui buttons"},n.a.createElement("button",{className:"ui positive button",form:"editForm"},"Edit"),n.a.createElement("div",{className:"or"}),n.a.createElement("button",{className:"ui button",onClick:this.props.editClose},"close"))))),document.querySelector("#modal")):n.a.createElement(h.a,{to:"/"})}}]),t}(n.a.Component),L=Object(o.b)((function(e,t){return 1===t.type?{user:e.user,post:e.post[t.id]}:2===t.type?{user:e.user,post:e.userPost[t.id]}:void 0}),{editPost:function(e,t,a,r){return function(){var n=Object(j.a)(E.a.mark((function n(s){var c;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w.put("/posts/".concat(a),e,{headers:{Authorization:"Bearer ".concat(t)}});case 3:c=n.sent,1===r?s({type:"EDIT_POST",payload:c.data}):2===r&&s({type:"EDIT_USER_POST",payload:c.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0.response);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}})(Object(O.a)({form:"editedForm"})(U)),M={1:"https://semantic-ui.com/images/avatar2/large/elyse.png",2:"https://semantic-ui.com/images/avatar2/large/kristy.png",3:"https://semantic-ui.com/images/avatar2/large/lena.png",4:"https://semantic-ui.com/images/avatar2/large/lindsay.png",5:"https://semantic-ui.com/images/avatar2/large/mark.png",6:"https://semantic-ui.com/images/avatar2/large/matthew.png"},H=[{key:"1",value:"1",image:{avatar:!0,src:"https://semantic-ui.com/images/avatar2/large/elyse.png"}},{key:"2",value:"2",image:{avatar:!0,src:"https://semantic-ui.com/images/avatar2/large/kristy.png"}},{key:"3",value:"3",image:{avatar:!0,src:"https://semantic-ui.com/images/avatar2/large/lena.png"}},{key:"4",value:"4",image:{avatar:!0,src:"https://semantic-ui.com/images/avatar2/large/lindsay.png"}},{key:"5",value:"5",image:{avatar:!0,src:"https://semantic-ui.com/images/avatar2/large/mark.png"}},{key:"6",value:"6",image:{avatar:!0,src:"https://semantic-ui.com/images/avatar2/large/matthew.png"}}],z=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).onSubmit=function(e){var t={comment:e["comment".concat(a.props.id)]};a.props.createComment(a.props.id,t,a.props.user.access_token),a.props.change("comment".concat(a.props.id),null)},a.deleteOnClick=function(e){a.props.deleteComment(a.props.user.access_token,e,a.props.id)},a.renderDelete=function(e){if(e.username===a.props.user.username||a.props.user.role)return n.a.createElement("div",{className:"post-buttons-containter"},n.a.createElement("i",{className:"trash icon large button-delete",onClick:a.deleteOnClick.bind(Object(R.a)(a),e.id),"Aria-label":"click to delete post"}))},a.renderComments=function(e){if(a.props.comment["".concat(e)])return a.props.comment["".concat(e)].map((function(e){return n.a.createElement("div",{className:"comment",key:e.id},n.a.createElement("div",{className:"post-text-container"},I.a.emojify(e.comment)),n.a.createElement("img",{src:a.props.avatar[e.username]?M[a.props.avatar[e.username].avatar]:"https://semantic-ui.com/images/avatar2/large/elyse.png",alt:"image",className:"ui avatar image"}),n.a.createElement("div",{className:"post-username-container"},e.username),n.a.createElement("div",{className:"post-date-container"},e.date.substr(0,10)),a.renderDelete(e))}))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"renderInput",value:function(e){var t=e.input,a=e.placeholder;return n.a.createElement("textarea",Object.assign({className:"input-comment"},t,{maxLength:"150",placeholder:a,rows:"2",required:!0}))}},{key:"componentDidMount",value:function(){this.props.fetchComments(this.props.id,this.props.user.access_token)}},{key:"render",value:function(){return n.a.createElement("div",{className:"input-comment-container"},this.renderComments(this.props.id),n.a.createElement("form",{className:"comment-form",onSubmit:this.props.handleSubmit(this.onSubmit)},n.a.createElement(v.a,{name:"comment".concat(this.props.id),type:"text",placeholder:"Write a Comment",component:this.renderInput}),n.a.createElement("button",{className:"post-button"},"Comment")))}}]),t}(n.a.Component),B=Object(o.b)((function(e){return{user:e.user,comment:e.comment,avatar:e.avatar}}),{createComment:function(e,t,a){return function(){var r=Object(j.a)(E.a.mark((function r(n){var s,c;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,w.post("/comments/".concat(e),t,{headers:{Authorization:"Bearer ".concat(a)}});case 3:s=r.sent,c=Object(y.a)({},e,s.data),n({type:"CREATE_COMMENT",payload:c}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0.response);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},fetchComments:function(e,t){return function(){var a=Object(j.a)(E.a.mark((function a(r){var n,s;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w.get("/comments/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});case 3:n=a.sent,s=Object(y.a)({},e,n.data),r({type:"FETCH_COMMENTS",payload:s}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.response);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},deleteComment:function(e,t,a){return function(){var r=Object(j.a)(E.a.mark((function r(n){var s,c;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,w.delete("/comments/".concat(t,"/").concat(a),{headers:{Authorization:"Bearer ".concat(e)}});case 3:s=r.sent,c=Object(y.a)({},a,s.data),n({type:"DELETE_COMMENT",payload:c}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0.response);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}})(Object(O.a)({form:"comment"})(z)),F=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={id:null,show:!1},a.more=function(){a.props.fetchSomePosts(a.props.user.access_token,a.props.post.length+3)},a.deleteOnClick=function(e){a.props.deletePost(a.props.user.access_token,e)},a.editOpen=function(e){a.setState({id:e,show:!0})},a.editClose=function(){a.setState({show:!1})},a.displayComment=function(e){return n.a.createElement(B,{id:e})},a.renderDeleteEdit=function(e){if(e.username===a.props.user.username||a.props.user.role)return n.a.createElement("div",{className:"post-buttons-containter"},n.a.createElement("i",{className:"edit icon large button-edit",onClick:a.editOpen.bind(Object(R.a)(a),e.id),"Aria-label":"click to edit post"}),n.a.createElement("i",{className:"trash icon large button-delete",onClick:a.deleteOnClick.bind(Object(R.a)(a),e.id),"Aria-label":"click to delete post"}))},a.renderPosts=function(){return a.props.post.map((function(e){return n.a.createElement("div",{className:"post",key:e.id},n.a.createElement("div",{className:"post-text-container"},I.a.emojify(e.post)),n.a.createElement("img",{src:a.props.avatar[e.username]?M[a.props.avatar[e.username].avatar]:"https://semantic-ui.com/images/avatar2/large/elyse.png",alt:"image",className:"ui avatar image"}),n.a.createElement("div",{className:"post-username-container"},e.username),n.a.createElement("div",{className:"post-date-container"},e.date.substr(0,10)),a.renderDeleteEdit(e),a.displayComment(e.id))}))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.user.isLoggedIn&&this.props.fetchSomePosts(this.props.user.access_token,8)}},{key:"checkMore",value:function(){if(!this.props.user.noMoreAll)return n.a.createElement("button",{onClick:this.more},"More")}},{key:"renderEdit",value:function(){if(this.state.show)return n.a.createElement(L,{id:this.state.id,show:this.state.show,editClose:this.editClose,type:1})}},{key:"render",value:function(){return this.props.post.length?n.a.createElement("div",{className:"posts_container"},this.checkMore(),this.renderPosts(),this.renderEdit()):null}}]),t}(n.a.Component),G=Object(o.b)((function(e){return{user:e.user,post:Object.values(e.post),avatar:e.avatar}}),{fetchPosts:function(e){return function(){var t=Object(j.a)(E.a.mark((function t(a){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.get("/posts",{headers:{Authorization:"Bearer ".concat(e)}});case 3:r=t.sent,a({type:"FETCH_POSTS",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),401===t.t0.response.status&&a({type:"AUTH_ERROR",payload:{isLoggedIn:!1,access_token:""}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},fetchSomePosts:function(e,t){return function(){var a=Object(j.a)(E.a.mark((function a(r){var n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w.get("/posts/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});case 3:n=a.sent,r({type:"FETCH_POSTS",payload:n.data[0]}),r({type:"NO_MORE",payload:n.data[1]}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),401===a.t0.response.status&&r({type:"AUTH_ERROR",payload:{isLoggedIn:!1,access_token:""}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},deletePost:N})(F),q=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).onSubmit=function(e){a.props.createPost(e,a.props.user.access_token),a.props.change("post",null)},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"renderInput",value:function(e){var t=e.input,a=e.placeholder;return n.a.createElement("textarea",Object.assign({className:"input-post"},t,{maxLength:"150",placeholder:a,rows:"3",required:!0}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"input-post-container"},n.a.createElement("form",{className:"test",onSubmit:this.props.handleSubmit(this.onSubmit)},n.a.createElement(v.a,{name:"post",type:"text",placeholder:"What are you thinking about?",component:this.renderInput}),n.a.createElement("button",{className:"post-button"},"Post")))}}]),t}(n.a.Component),K=Object(o.b)((function(e){return{user:e.user}}),{createPost:function(e,t){return function(){var a=Object(j.a)(E.a.mark((function a(r){var n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w.post("/posts",e,{headers:{Authorization:"Bearer ".concat(t)}});case 3:n=a.sent,r({type:"CREATE_POST",payload:n.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0.response);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})(Object(O.a)({form:"post"})(q)),V=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).onSubmit=function(){a.props.logoutUser(a.props.user.access_token),window.localStorage.clear()},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit)},n.a.createElement("button",{className:"logout"},"Logout")))}}]),t}(n.a.Component),J=Object(o.b)((function(e){return{user:e.user}}),{logoutUser:function(e){return function(){var t=Object(j.a)(E.a.mark((function t(a){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.delete("/logout",{headers:{Authorization:"Bearer ".concat(e)}});case 3:r=t.sent,a({type:"LOGOUT_USER",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(Object(O.a)({form:"logout"})(V)),W=Object(o.b)((function(e){return{user:e.user,avatar:e.avatar}}))((function(e){return n.a.createElement("div",{className:"header-custom"},n.a.createElement("img",{src:e.avatar[e.user.username]?M[e.avatar[e.user.username].avatar]:"https://semantic-ui.com/images/avatar2/large/elyse.png",alt:"image",className:"ui avatar image"}),n.a.createElement(b.b,{className:"nav-item",to:"/profile"},e.user.username),n.a.createElement(b.b,{className:"nav-item",to:"/dashboard"},"home"),n.a.createElement(J,null))})),Q=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAvatars(this.props.user.access_token)}},{key:"render",value:function(){return this.props.user.isLoggedIn?n.a.createElement("div",{className:"cover_page",style:{backgroundColor:"#f0f2f5"}},n.a.createElement("div",{className:"test1"},n.a.createElement(W,null),n.a.createElement(K,null),n.a.createElement(G,null))):n.a.createElement(h.a,{to:"/"})}}]),t}(n.a.Component),X=Object(o.b)((function(e){return{user:e.user}}),{fetchAvatars:function(e){return function(){var t=Object(j.a)(E.a.mark((function t(a){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.get("/avatar",{headers:{Authorization:"Bearer ".concat(e)}});case 3:201===(r=t.sent).status&&a({type:"FETCH_AVATARS",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(Q),Y=a(363),Z=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).onAvatarChange=function(e,t){a.props.updateAvatar(t.value,a.props.user.username,a.props.user.access_token)},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(Y.a,{text:"Update Avatar",icon:"file image icon",floating:!0,labeled:!0,button:!0,className:"icon"},n.a.createElement(Y.a.Menu,null,n.a.createElement(Y.a.Header,{content:"Pick your avatar"}),H.map((function(t){return n.a.createElement(Y.a.Item,Object.assign({onClick:e.onAvatarChange,key:t.value},t))}))))}}]),t}(n.a.Component),$=Object(o.b)((function(e){return{user:e.user}}),{updateAvatar:function(e,t,a){return function(){var r=Object(j.a)(E.a.mark((function r(n){return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,w.get("/avatar/".concat(e),{headers:{Authorization:"Bearer ".concat(a)}});case 3:201===r.sent.status&&n({type:"UPDATE_AVATAR",payload:[{avatar:e,username:t}]}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0.response);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}})(Z),ee=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"personal-container"},n.a.createElement("div",{className:"image-container"},n.a.createElement("img",{src:this.props.avatar[this.props.user.username]?M[this.props.avatar[this.props.user.username].avatar]:"https://semantic-ui.com/images/avatar2/large/elyse.png",alt:"image",className:"ui large image"})),n.a.createElement("div",{className:"info-container"},n.a.createElement("span",{className:"info-text"},"Username:")," ",this.props.user.username,n.a.createElement("br",null),n.a.createElement("span",{className:"info-text"},"Email:")," ",this.props.user.email,n.a.createElement("div",{className:"dropdown-icon"},n.a.createElement($,null))))}}]),t}(n.a.Component),te=Object(o.b)((function(e){return{user:e.user,avatar:e.avatar}}),{})(Object(O.a)({form:"file"})(ee)),ae=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={id:null,show:!1},a.more=function(){a.props.fetchUserPosts(a.props.user.access_token,a.props.user.username,a.props.post.length+3)},a.deleteOnClick=function(e){a.props.deletePost(a.props.user.access_token,e)},a.editOpen=function(e){a.setState({id:e,show:!0})},a.editClose=function(){a.setState({show:!1})},a.renderDeleteEdit=function(e){if(e.username===a.props.user.username||a.props.user.role)return n.a.createElement("div",{className:"post-buttons-containter"},n.a.createElement("i",{className:"edit icon large button-edit",onClick:a.editOpen.bind(Object(R.a)(a),e.id),"Aria-label":"click to edit post"}),n.a.createElement("i",{className:"trash icon large button-delete",onClick:a.deleteOnClick.bind(Object(R.a)(a),e.id),"Aria-label":"click to delete post"}))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.user.isLoggedIn&&this.props.fetchUserPosts(this.props.user.access_token,this.props.user.username,8)}},{key:"renderPosts",value:function(){var e=this;return this.props.post.map((function(t){return n.a.createElement("div",{className:"post",key:t.id},n.a.createElement("div",{className:"post-text-container"},I.a.emojify(t.post)),n.a.createElement("img",{src:e.props.avatar[t.username]?M[e.props.avatar[t.username].avatar]:"https://semantic-ui.com/images/avatar2/large/elyse.png",alt:"image",className:"ui avatar image"}),n.a.createElement("div",{className:"post-username-container"},t.username),n.a.createElement("div",{className:"post-date-container"},t.date.substr(0,10)),e.renderDeleteEdit(t))}))}},{key:"checkMore",value:function(){if(!this.props.user.noMoreUser)return n.a.createElement("button",{onClick:this.more},"More")}},{key:"renderEdit",value:function(){if(this.state.show)return n.a.createElement(L,{id:this.state.id,show:this.state.show,editClose:this.editClose,type:2})}},{key:"render",value:function(){return this.props.user.isLoggedIn?n.a.createElement("div",{className:"cover_page",style:{backgroundColor:"#f0f2f5"}},n.a.createElement("div",{className:"test1"},n.a.createElement(W,null),n.a.createElement(te,null),n.a.createElement("div",{className:"posts_container"},this.checkMore(),this.renderPosts(),this.renderEdit()))):n.a.createElement(h.a,{to:"/"})}}]),t}(n.a.Component),re=Object(o.b)((function(e){return{user:e.user,post:Object.values(e.userPost),avatar:e.avatar}}),{fetchUserPosts:function(e,t,a){return function(){var r=Object(j.a)(E.a.mark((function r(n){var s;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,w.get("/users/".concat(t,"/").concat(a),{headers:{Authorization:"Bearer ".concat(e)}});case 3:s=r.sent,n({type:"FETCH_USER_POSTS",payload:s.data[0]}),n({type:"NO_MORE",payload:s.data[1]}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),401===r.t0.response.status&&n({type:"AUTH_ERROR",payload:{isLoggedIn:!1,access_token:""}});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},deletePost:N})(ae),ne=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"cover_page"},n.a.createElement(b.a,null,n.a.createElement("div",{className:"cover_page"},n.a.createElement(h.b,{path:"/",exact:!0,component:T}),n.a.createElement(h.b,{path:"/dashboard",exact:!0,component:X}),n.a.createElement(h.b,{path:"/profile",exact:!0,component:re}))))}}]),t}(n.a.Component),se=a(366);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie=a(36),ue=a.n(ie);function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Oe=Object(i.c)({form:se.a,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:200,avatar:"https://semantic-ui.com/images/avatar/small/stevie.jpg"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":case"LOGOUT_USER":case"LOGIN_ERROR":case"REGISTER_USER":case"REGISTER_ERROR":case"AUTH_ERROR":case"NO_MORE":case"UPDATE_AVATAR":return oe({},e,{},t.payload);default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":case"CREATE_POST":return le({},e,{},ue.a.mapKeys(t.payload,"id"));case"DELETE_POST":return ue.a.omit(e,t.payload);case"EDIT_POST":return le({},e,{},ue.a.mapKeys([t.payload],"id"));default:return e}},userPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_POSTS":return de({},e,{},ue.a.mapKeys(t.payload,"id"));case"DELETE_POST":return ue.a.omit(e,t.payload);case"EDIT_USER_POST":return de({},e,{},ue.a.mapKeys([t.payload],"id"));default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_COMMENT":case"FETCH_COMMENTS":case"DELETE_COMMENT":return be({},e,{},t.payload);default:return e}},avatar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_AVATARS":case"UPDATE_AVATAR":return ve({},e,{},ue.a.mapKeys(t.payload,"username"));default:return e}}}),ye=function(){var e=sessionStorage.getItem("state");return null===e?void 0:JSON.parse(e)}(),ge=Object(i.d)(Oe,ye,Object(i.a)(u.a));c.a.render(n.a.createElement(o.a,{store:ge},n.a.createElement(ne,null)),document.querySelector("#root")),ge.subscribe((function(){return function(e){var t=JSON.stringify(e);sessionStorage.setItem("state",t)}(ge.getState())}))},38:function(e,t,a){}},[[209,1,2]]]);
//# sourceMappingURL=main.3f82d4f8.chunk.js.map